<link href="../bower_components/polymer/polymer.html" rel="import">
<link href="../bower_components/paper-styles/color.html" rel="import">
<link href="../bower_components/paper-styles/typography.html" rel="import">
<link href="../bower_components/paper-material/paper-material.html" rel="import">
<link href="../bower_components/paper-item/paper-item.html" rel="import">
<link href="../bower_components/paper-card/paper-card.html" rel="import">
<link href="../bower_components/paper-button/paper-button.html" rel="import">

<link rel="import" href="../bower_components/mark-down/mark-down.html">
<link rel="import" href="../bower_components/iron-image/iron-image.html">

<link rel="stylesheet" href="../bower_components/paper-styles/paper-styles.html">

<dom-module id="product-card">
	<template>
		<style>
		  	body {
			  font-family: 'Roboto', 'Noto', sans-serif;
			  font-size: 14px;
			  margin: 0;
			}

		    paper-card {
		      width: 300px;
		      margin-bottom: 16px;
		    }

		    paper-material {
		    	/*max-width: 350px;*/
		      margin: 15px;
		    }

		    paper-button {
		      display: inline-block;
		    }

		    paper-button.blue {
		      color: var(--paper-light-blue-500);
		      --paper-button-flat-focus-color: var(--paper-light-blue-50);
		    }
		    paper-button.blue:hover {
		      background: var(--paper-light-blue-50);
		    }

		    .pink {
		      --paper-card-header-color: var(--paper-pink-500);
		    }

		    .card-title {
				display: inline-block;
			    overflow: hidden;
			    height: 46px;
		    }

		    mark-down {
		      display: inline-block;
		      width: 100%;
		      height: 64px;
		      overflow: hidden;
		      word-break: break-word;
		      font-size: 13px;
		    }

			.price-tag {
			  display: inline-block;
			  -moz-border-radius-topright: 2px;
			  -webkit-border-top-right-radius: 2px;
			  border-top-right-radius: 2px;
			  -moz-border-radius-bottomright: 2px;
			  -webkit-border-bottom-right-radius: 2px;
			  border-bottom-right-radius: 2px;
			  height: 40px;
			  line-height: 40px;
			  padding: 0 10px;
			  color: #fff;
			  background-color: #bf1919;
			  text-shadow: 1px 1px 1px #921313;
			  font-weight: 200;
			  font-size: 1.1em;
			  text-indent: -6px;
			  position: relative;
			  -moz-transform-origin: 88% 10%;
			  -ms-transform-origin: 88% 10%;
			  -webkit-transform-origin: 88% 10%;
			  transform-origin: 88% 10%;
				position: absolute;
				top: -24px;
				right: -5px;
			}
			.price-tag::before {
			  content: "";
			  position: absolute;
			  top: 0;
			  left: -20px;
			  width: 0;
			  height: 0;
			  border-top: 20px solid transparent;
			  border-bottom: 20px solid transparent;
			  border-right: 20px solid #bf1919;
			}
			.price-tag::after {
			  content: "";
			  position: absolute;
			  top: 10%;
			  left: 88%;
			  width: 5px;
			  height: 5px;
			  border-radius: 2.5px;
			  background-color: #cecece;
			  box-shadow: inset -1px 1px 0 #8e8e8e;
			}

			.price-tag span.cur {
			    font-size: 12px;
			}

			.price-tag span.number {
				
			}

			.card-header .image {
				display: inline-block;
				width: 100%;
				height: 200px;
				background-repeat: no-repeat;
    			background-size: cover;
    			background-color: #eee;
			}
		</style>
		<paper-material elevation="0">
			<paper-card>
			  <div class="card-header">
			  	<iron-image src="{{image}}" style="width:100%; height:200px;" sizing="cover"><iron-image>
			  </div>
			  <div class="card-content">
				<h3 class="card-title">{{title}}</h3>
				<div class="price-tag">
				  <span class="cur">LPS. </span><span class="number">{{price}}</span>
				</div>
			    <mark-down text="{{detail}}"></mark-down>
			  </div>
			  <div class="card-actions">
			    <paper-button tabindex="0" on-click="handleClick" class="blue ripple">Contactar</paper-button>
			  </div>
			</paper-card>
		</paper-material>
	</template>
	<script>
		Polymer({
			is: 'product-card',

		    // add properties and methods on the element's prototype

		    properties: {
		    	// declare properties for the element's public API
				image: {
					type: String,
					value: ""	
				},
				title: {
					type: String,
					value: ""	
				},
				price: {
					type: String,
					value: ""	
				},
			    detail: {
			      type: String,
			      value: "Zombie ipsum reversus ab viral inferno, nam rick grimes malum cerebro. De carne lumbering animata corpora quaeritis. Summus brains sit​​, morbo vel maleficia? De apocalypsi gorger omero undead survivor dictum mauris."
			    },
		    	pid: {
			    	type: Number,
			    	value: -1
		    	},
		    	time: {
			    	type: String,
			    	value: new Date().toLocaleString()
			    }
		    },
			ready: function(e){
		      //var i;
		      //this.detail = '';
		      //for(i=0; i<parseInt(Math.random()*10000, 10); i++)
		        //this.detail += 'a ';
			},

			handleClick: function(e, detail) {
				var pages = document.querySelector('iron-pages');
    			pages.selectNext();
				//this.fire('contact');
			}
		});
	</script>
</dom-module>